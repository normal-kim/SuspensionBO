function [A,B,Bw,Ixx,Iyy,Izz] = SSgenerator()
%[z dz phi dphi theta dtheta z_LF dz_LF z_RF dz_RF z_LR dz_LR z_RR dz_RR]
% Mir updated version
% 1 is front, 2 is rear
Ks_RF = 26700; Ks_LF = 26700; Ks_RR = 23150; Ks_LR = 23150;
Cs_RF = 50; Cs_LF = 50; Cs_RR = 50; Cs_LR = 50;
L = 2650*0.001; W = 1568*0.001;

l_CF = L/2; l_CR= L/2; l_CRR = W/2; l_CLL = W/2;
Kw_RF = 203464.1; Kw_LF = 203464.1; Kw_RR = 203464.1; Kw_LR = 203464.1;
ms = 1106.284; Iyy = 1447.5; Ixx = 438.7; Izz = 1671.2;
mw_RF = 101.488/2; mw_LF = 101.488/2; mw_RR = 86.718/2; mw_LR = 86.718/2;
A1 = [0,1, 0,0, 0,0, 0,0, 0,0, 0,0, 0,0];
A3 = [0,0, 0,1, 0,0, 0,0, 0,0, 0,0, 0,0];
A5 = [0,0, 0,0, 0,1, 0,0, 0,0, 0,0, 0,0];
A7 = [0,0, 0,0, 0,0, 0,1, 0,0, 0,0, 0,0];
A9 = [0,0, 0,0, 0,0, 0,0, 0,1, 0,0, 0,0];
A11 = [0,0, 0,0, 0,0, 0,0, 0,0, 0,1, 0,0];
A13 = [0,0, 0,0, 0,0, 0,0, 0,0, 0,0, 0,1];

A2 = [(-Ks_RF-Ks_LF-Ks_RR-Ks_LR)/ms, (-Cs_RF-Cs_LF-Cs_RR-Cs_LR)/ms...
      (Ks_RF*l_CF+Ks_LF*l_CF-Ks_RR*l_CR-Ks_LR*l_CR)/ms, (Cs_RF*l_CF+Cs_LF*l_CF-Cs_RR*l_CR-Cs_LR*l_CR)/ms...
      (Ks_RF*l_CRR-Ks_LF*l_CLL+Ks_RR*l_CRR-Ks_LR*l_CLL)/ms, (Cs_RF*l_CRR-Cs_LF*l_CLL+Cs_RR*l_CRR-Cs_LR*l_CLL)/ms...
      Ks_RF/ms, Cs_RF/ms, Ks_LF/ms, Cs_LF/ms,...
      Ks_RR/ms, Cs_RR/ms, Ks_LR/ms, Cs_LR/ms];
  
A4 = [(Ks_RF*l_CF+Ks_LF*l_CF-Ks_RR*l_CR-Ks_LR*l_CR)/Iyy, (Cs_RF*l_CF+Cs_LF*l_CF-Cs_RR*l_CR-Cs_LR*l_CR)/Iyy...
      (-Ks_RF*l_CF^2-Ks_LF*l_CF^2-Ks_RR*l_CR^2-Ks_LR*l_CR^2)/Iyy, (-Cs_RF*l_CF^2-Cs_LF*l_CF^2-Cs_RR*l_CR^2-Cs_LR*l_CR^2)/Iyy...
      (-Ks_RF*l_CF*l_CRR+Ks_LF*l_CF*l_CLL+Ks_RR*l_CR*l_CRR-Ks_LR*l_CR*l_CLL)/Iyy, (-Cs_RF*l_CF*l_CRR-Cs_LF*l_CF*l_CLL-Cs_RR*l_CR*l_CRR-Cs_LR*l_CR*l_CLL)/Iyy...
      -Ks_RF*l_CF/Iyy, -Cs_RF*l_CF/Iyy, -Ks_LF*l_CF/Iyy -Cs_LF*l_CF/Iyy...
      Ks_RR*l_CR/Iyy, Cs_RR*l_CR/Iyy, Ks_LR*l_CR/Iyy, Cs_LR*l_CR/Iyy];
  
A6 = [(Ks_RF*l_CRR-Ks_LF*l_CLL+Ks_RR*l_CRR-Ks_LR*l_CLL)/Ixx, (Cs_RF*l_CRR-Cs_LF*l_CLL+Cs_RR*l_CRR-Cs_LR*l_CLL)/Ixx...
      (-Ks_RF*l_CF*l_CRR+Ks_LF*l_CF*l_CLL+Ks_RR*l_CR*l_CRR-Ks_LR*l_CR*l_CLL)/Ixx, (-Cs_RF*l_CF*l_CRR-Cs_LF*l_CF*l_CLL-Cs_RR*l_CR*l_CRR-Cs_LR*l_CR*l_CLL)/Ixx...
      (-Ks_RF*l_CRR^2-Ks_LF*l_CLL^2-Ks_RR*l_CRR^2-Ks_LR*l_CLL^2)/Ixx, (-Cs_RF*l_CRR^2-Cs_LF*l_CLL^2-Cs_RR*l_CRR^2-Cs_LR*l_CLL^2)/Ixx...
      -Ks_RF*l_CRR/Ixx, Cs_RF*l_CRR/Ixx, Ks_LF*l_CLL/Ixx, Cs_LF*l_CLL/Ixx...
      -Ks_RR*l_CRR/Ixx, -Cs_RR*l_CRR/Ixx, Ks_LR*l_CLL/Ixx, Cs_LR*l_CLL/Ixx];
  
A8 = [Ks_RF/mw_RF, Cs_RF/mw_RF, -Ks_RF*l_CF/mw_RF, -Cs_RF*l_CF/mw_RF...
      -Ks_RF*l_CRR/mw_RF, -Cs_RF*l_CRR/mw_RF, (-Ks_RF-Kw_RF)/mw_RF, -Cs_RF/mw_RF...
      0,0, 0,0, 0,0];
   
A10 = [Ks_LF/mw_LF, Cs_LF/mw_LF, -Ks_LF*l_CF/mw_LF, -Cs_LF*l_CF/mw_LF...
       Ks_LF*l_CLL/mw_LF, Cs_LF*l_CLL/mw_LF, 0,0 ...
       (-Ks_LF-Kw_LF)/mw_LF, -Cs_LF/mw_LF, 0,0, 0,0];
   
A12 = [Ks_RR/mw_RR, Cs_RR/mw_RR, Ks_RR*l_CR/mw_RR, Cs_RR*l_CR/mw_RR...
       Ks_RR*l_CLL/mw_RR, Cs_RR*l_CLL/mw_RR, 0,0, 0,0 ...
       (-Ks_RR-Kw_RR)/mw_RR, -Cs_RR/mw_RR, 0,0];
   
A14 = [Ks_LR/mw_LR, Cs_LR/mw_LR, Ks_LR*l_CR/mw_LR, Cs_LR*l_CR/mw_LR...
       Ks_LR*l_CLL/mw_LR, Cs_LR*l_CLL/mw_LR, 0,0, 0,0, 0,0 ...
       (-Ks_LR-Kw_LR)/mw_LR, -Cs_LR/mw_LR];

A = [A1;A2;A3;A4;A5;A6;A7;A8;A9;A10;A11;A12;A13;A14];
   
B = [0, 0, 0, 0; ...
    1/ms 1/ms 1/ms 1/ms; ...
    0, 0, 0, 0; ... 
    -l_CF/Iyy, -l_CF/Iyy, l_CR/Iyy, l_CR/Iyy; ...
    0, 0, 0, 0; ...
    l_CRR/Ixx, -l_CLL/Ixx, l_CRR/Ixx, l_CLL/Ixx; ...
    0, 0, 0, 0; ...
    -1/ms, 0, 0, 0; ...
    0, 0, 0, 0; ...
    0, -1/ms, 0, 0; ...
    0, 0, 0, 0; ...
    0, 0, -1/ms, 0; ...
    0, 0, 0, 0; ...
    0, 0, 0, -1/ms];

assignin('base','A',A);
assignin('base','B',B);
Bw = [0, 0, 0, 0; ...
    0, 0, 0, 0; ...
    0, 0, 0, 0; ...
    0, 0, 0, 0; ...
    0, 0, 0, 0; ...
    0, 0, 0, 0; ... %%
    0, 0, 0, 0; ...
    Kw_RF/mw_RF, 0, 0, 0; ...
    0, 0, 0, 0; ...
    0, Kw_LF/mw_LF, 0, 0; ...
    0, 0, 0, 0; ...
    0, 0, Kw_RR/mw_RR, 0; ...
    0, 0, 0, 0; ...
    0, 0, 0, Kw_LR/mw_LR];
end
